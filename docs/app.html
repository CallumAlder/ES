<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Skadoosh MQTT App</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/grayscale.min.css" rel="stylesheet">
    
    <!--  Custom MIDI Controller CSS  -->
     <link href="css/midi-control.css" rel="stylesheet">
  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">Start Skadooshing</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#gdpr">GDPR</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#mqtt">App</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="masthead">
      <div class="container d-flex h-100 align-items-center">
        <div class="mx-auto text-center">
          <h1 class="mx-auto my-0 text-uppercase">Grayscale</h1>
          <h2 class="text-white-50 mx-auto mt-2 mb-5">A free, responsive, one page Bootstrap theme created by Start Bootstrap.</h2>
          <a href="#mqtt" class="btn btn-primary js-scroll-trigger">MQTT App</a>
        </div>
      </div>
    </header>

    <!-- Local Storage GDPR Warning -->
    <section id="gdpr" class="about-section text-center">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto">
            <h2 class="text-white mb-4">Local Storage Warning</h2>
            <p class="text-white-50"> 
              This page uses your browsers <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">Local Storage</a> functionality 
            to store MQTT messages whilst they are "inflight". This allows the Paho javascript client to ensure that QoS 1 and QoS 2 messages are successfully delivered even
              if the network connection or browser fails. If you do not wish for the Local Storage to be used, please do not use this client, or only use QoS 0 to send and 
              receive messages. If you wish to see the data being stored for yourself, open up your developer console and look for the Local Storage section,
              as messages are sent and received, you will see entries appearing and disappearing as the messages complete their QoS 1 and QoS 2 flows. 
              Messages are deleted as soon as they have completed their QoS flow.
              <br>
              More information about the Eclipse Privacy and cookie policy can be found <a href="https://www.eclipse.org/legal/privacy.php">Here</a>.</p>
          </div>
        </div>
      </div>
    </section>


    <!-- Skadoosh MQTT APP Section -->
    <section id="mqtt-skadoosh" class="project-section text-center">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 mx-auto">
            <h2>Skadoosh MIDI MQTT App</h2>
          </div>
        </div>
              <!-- Connection panel -->
              <div class="row">
                <div class="col-lg-12 mx-auto">
                  <div class="panel panel-default">
                    <div class="panel-heading">
                      <span id="connectionStatus" style="color:darkred">Connection - Disconnected.</span>
                    </div>
                    <div class="panel-body" id="serverCollapse">
                      
                      <form>
                        
                        <div class="row">
                          
                          <div class="col-lg-12 text-center">
                            <div class="form-group">
                              <label for="clientConnectButton"></label>
                              <a id="clientConnectButton" class="btn btn-default" onclick="connectionToggle();">Connect</a>
                            </div>
                          </div>
                        </div>

                        <hr>                         

                    </form>
                    </div>
                 </div>
                </div>
            </div>
      <!-- End Connection -->

      <!-- Main App Section should go here -->
      <div  class="row ">
        <div id="knob1_container" class="col-lg-3 text-center">
        <div id="knob1" class="pie" data-x="0" >
            <div class="clip1">
                <div class="slice1" id="knob1_slice1"></div>
            </div>
            <div class="clip2">
                <div class="slice2" id="knob1_slice2"></div>
            </div>
            <div class="inner">
              <div class="status" id="knob1_status"></div>
            </div>
            <div class="outer">
            </div>
        </div>
        </div>
       <div id="contentContainer" class="col-lg-3 text-center">
         <h3>Pitch</h3>
          <div class="dropdown">
            <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Sensor Select
            <span class="caret"></span></button>
            <ul class="dropdown-menu">
              <li id="knob01_man"><a href="javascript:;">Manual</a></li>
              <li id="knob01_xGy"><a href="javascript:;">X-Gyroscope</a></li>
              <li id="knob01_yGy"><a href="javascript:;">Y-Gyroscope</a></li>
              <li id="knob01_xGy"><a href="javascript:;">Z-Gyroscope</a></li>
              <li id="knob01_prx"><a href="javascript:;">Proximity</a></li>
            </ul>
          </div> 
         <div class="debug">        </div>
        </div>
        <div id="contentContainer" class="col-lg-3 text-center">
          <h3>Portamento</h3>
          <div class="dropdown">
            <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Sensor Select
            <span class="caret"></span></button>
            <ul class="dropdown-menu">
              <li id="knob02_man"><a href="javascript:;">Manual</a></li>
              <li id="knob02_xGy"><a href="javascript:;">X-Gyroscope</a></li>
              <li id="knob02_yGy"><a href="javascript:;">Y-Gyroscope</a></li>
              <li id="knob02_xGy"><a href="javascript:;">Z-Gyroscope</a></li>
              <li id="knob02_prx"><a href="javascript:;">Proximity</a></li>
            </ul>
          </div> 
          <div class="debug">        </div>
        </div>
        <div id="knob2_container" class="col-lg-3 text-center">
        <div id="knob2" class="pie" data-x="0" >
            <div class="clip1">
                <div class="slice1" id="knob2_slice1"></div>
            </div>
            <div class="clip2">
                <div class="slice2" id="knob2_slice2"></div>
            </div>
            <div class="inner">
              <div class="status" id="knob2_status"></div>
            </div>
            <div class="outer">
            </div>
        </div>
        </div>
        <hr>
      </div>
        

      <!-- Display Panels -->
      <div class="row">
        <!-- Last Message / History / Console -->
        <div class="col-lg-12 mx-auto">
          <div class="panel panel-default">
            <div class="panel-heading">
              <a class="chevron-toggle" data-toggle="collapse" data-target="#subscriptionsCollapse" href="#collapseOne">
                            Last Messages
                        </a>
            </div>
            <div class="panel-body collapse in fixed-height-panel" id="subscriptionsCollapse">
              <table class="table table-hover table-condensed tableSection" id="lastMessageTable">
                <thead>
                  <tr>
                    <th>Topic</th>
                    <th>Payload</th>
                    <th>Time</th>
                    <th>QoS</th>
                  </tr>
                </thead>
                <tbody>

                </tbody>

              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="row">

        <div class="col-md-12">
          <div class="panel panel-default">
            <div class="panel-heading">
              <a class="chevron-toggle" data-toggle="collapse" data-target="#historyCollapse" href="#collapseOne">
                            History
                            </a>
            </div>
            <div class="panel-body collapse in fixed-height-panel" id="historyCollapse">
              <span class="right"><a href="#" onclick="clearHistory()">Clear History</a></span>
              <table class="table table-hover table-condensed  tableSection" id="incomingMessageTable">

                <thead>
                  <tr>
                    <th>Topic</th>
                    <th>Payload</th>
                    <th>Time</th>
                    <th>Qos</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="row"> 
        <div class="col-md-12">
          <div class="panel panel-default">
            <div class="panel-heading">
              <a class="chevron-toggle" data-toggle="collapse" data-target="#consoleCollapse" href="#collapseOne">
                            Console
                            </a>
            </div>
            <div class="panel-body collapse in fixed-height-panel-pre" id="consoleCollapse">
              <pre id="consolePre" class="pre-scrollable"></pre>
            </div>
          </div>
        </div>
      </div>
  </div>
     
            </div>
    </section>
    <!-- Footer -->
    <footer class="bg-black small text-center text-white-50">
      <div class="container">
        Copyright &copy; Skadoosh 
        <script type="text/JavaScript">
            document.write(new Date().getFullYear());
        </script>
      </div>
      <div class="container">
        Based on the <a href="https://github.com/BlackrockDigital/startbootstrap-grayscale">Grayscale Theme</a> 
      </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/grayscale.min.js"></script>

    <!-- Core MQTT JavaScript -->
    <script src="js/paho-mqtt-min.js"></script>    
    <!-- Online version of Core MQTT JavaScript -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script> -->

    <!-- MQTT Utility Javascript -->
<!--  <script src="js/mqtt-utility.js"></script>-->
  <script src="js/mqtt-skadoosh.js"></script>
  
      <!-- MIDI Control Javascript -->
<!--  <script src="js/mqtt-utility.js"></script>-->
  <script src="js/midi-control-skadoosh.js"></script>
  </body>

</html>
