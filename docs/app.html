<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Skadoosh MQTT App</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/grayscale.min.css" rel="stylesheet">

  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">Start Skadooshing</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#gdpr">GDPR</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#mqtt">App</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="masthead">
      <div class="container d-flex h-100 align-items-center">
        <div class="mx-auto text-center">
          <h1 class="mx-auto my-0 text-uppercase">Grayscale</h1>
          <h2 class="text-white-50 mx-auto mt-2 mb-5">A free, responsive, one page Bootstrap theme created by Start Bootstrap.</h2>
          <a href="#mqtt" class="btn btn-primary js-scroll-trigger">MQTT App</a>
        </div>
      </div>
    </header>

    <!-- Local Storage GDPR Warning -->
    <section id="gdpr" class="about-section text-center">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto">
            <h2 class="text-white mb-4">Local Storage Warning</h2>
            <p class="text-white-50"> 
              This page uses your browsers <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">Local Storage</a> functionality 
            to store MQTT messages whilst they are "inflight". This allows the Paho javascript client to ensure that QoS 1 and QoS 2 messages are successfully delivered even
              if the network connection or browser fails. If you do not wish for the Local Storage to be used, please do not use this client, or only use QoS 0 to send and 
              receive messages. If you wish to see the data being stored for yourself, open up your developer console and look for the Local Storage section,
              as messages are sent and received, you will see entries appearing and disappearing as the messages complete their QoS 1 and QoS 2 flows. 
              Messages are deleted as soon as they have completed their QoS flow.
              <br>
              More information about the Eclipse Privacy and cookie policy can be found <a href="https://www.eclipse.org/legal/privacy.php">Here</a>.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- MQTT APP Section -->
    <section id="mqtt" class="projects-section text-center">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 mx-auto">
            <h2>MQTT App</h2>
            <p class="text-black-50 mb-0"> Sciences</p>
          </div>
        </div>
              <!-- Connection panel -->
              <div class="row">
                <div class="col-lg-12 mx-auto">
                  <div class="panel panel-default">
                    <div class="panel-heading">
                      <span id="connectionStatus">Connection - Disconnected.</span>
                    </div>
                    <div class="panel-body" id="serverCollapse">
                      <form>
                          
                        <div class="row">

                          <div class="col-lg-5">
                            <div class="form-group">
                              <label for="hostInput">Host</label>
                              <input type="text" class="form-control" id="hostInput" value="iot.eclipse.org">
                            </div>
                          </div>
                          <div class="col-lg-1">
                            <div class="form-group">
                              <label for="portInput">Port</label>
                              <input type="text" class="form-control" id="portInput" value="443">
                            </div>

                          </div>
                          <div class="col-lg-4">
                            <div class="form-group">
                              <label for="clientIdInput">Client ID</label>
                              <input type="text" class="form-control" id="clientIdInput" value="javascript-client">
                            </div>
                          </div>
                          <div class="col-lg-1">
                            <div class="form-group">
                              <label for="clientConnectButton"></label>
                              <a id="clientConnectButton" class="btn btn-default" onclick="connectionToggle();">Connect</a>
                            </div>
                          </div>
                        </div>
                          <div class="row">

                          <div class="col-lg-2">
                            <div class="form-group">
                              <label for="pathInput">Path</label>
                              <input type="text" class="form-control" id="pathInput" value="/ws">
                            </div>
                          </div>
                          <div class="col-lg-2">
                            <div class="form-group">
                              <label for="userInput">Username</label>
                              <input type="text" class="form-control" id="userInput">
                            </div>
                          </div>

                          <div class="col-lg-2">
                            <div class="form-group">
                              <label for="passInput">Password</label>
                              <input type="password" class="form-control" id="passInput">
                            </div>
                          </div>

                          <div class="col-lg-1">
                            <div class="form-group">
                              <label for="keepAliveInput">Keepalive</label>
                              <input type="text" class="form-control" id="keepAliveInput" value="60">
                            </div>
                          </div>

                          <div class="col-lg-1">
                            <div class="form-group">
                              <label for="timeoutInput">Timeout</label>
                              <input type="text" class="form-control" id="timeoutInput" value="3">
                            </div>
                          </div>

                          <div class="col-lg-1">
                            <div class="form-group">
                              <label for="tlsInput">TLS</label>
                              <input type="checkbox" class="special-checkbox" id="tlsInput" value="" checked>
                            </div>
                          </div>
                          <div class="col-lg-1">
                            <div class="form-group">
                              <label for="cleanSessionInput">Clean Session</label>
                              <input type="checkbox" class="special-checkbox" id="cleanSessionInput" value="" checked>
                            </div>

                          </div>
                          <div class="col-lg-1">
                            <div class="form-group">
                              <label for="automaticReconnectInput">Automatic Reconnect</label>
                              <input type="checkbox" class="special-checkbox" id="automaticReconnectInput" value="" checked>
                            </div>
                          </div>
                        </div>
                        <hr>
                        <div class="row">
                          <div class="col-lg-3">
                            <div class="form-group">
                              <label for="lwtInput">Last Will Topic</label>
                              <input type="text" class="form-control" id="lwtInput">
                            </div>
                          </div>

                          <div class="col-lg-1">
                            <div class="form-group">
                              <label for="lwQosInput">QoS</label>
                              <select class="form-control" id="lwQosInput">
                                <option>0</option>
                                <option>1</option>
                                <option>2</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-lg-1">
                            <div class="form-group">
                              <label for="lwRetainInput">Retain</label>
                              <input type="checkbox" class="special-checkbox" id="lwRetainInput" value="">
                            </div>
                          </div>
                          <div class="col-lg-7">
                            <div class="form-group">
                              <label for="lwMInput">Last Will Message</label>
                              <textarea class="form-control" id="lwMInput" rows="3"></textarea>
                            </div>
                          </div>
                        </div>
                          

                    </form>
                    </div>
                 </div>
                </div>
            </div>
      <!-- End Connection -->


      <div class="row ">
        <!-- Subscription panel -->
        <div class="col-lg-6 mx-auto">
          <div class="panel panel-default">
            <div class="panel-heading">
              Subscribe
            </div>
            <div class="panel-body" id="subscribeCollapse">

              <form class="form-horizontal">

                <div class="form-group">
                  <label for="subscribeTopicInput" class="col-sm-2 control-label">Topic</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" id="subscribeTopicInput" value="world" disabled>
                  </div>
                </div>
                <div class="form-group">
                  <label for="subscribeQosInput" class="col-sm-2 control-label">QoS</label>
                  <div class="col-sm-10">
                    <select class="form-control" id="subscribeQosInput" disabled>
                      <option>0</option>
                      <option>1</option>
                      <option>2</option>
                    </select>
                  </div>
                </div>
                <div class="form-group">
                  <div class="col-sm-offset-2 col-sm-10">
                    <button id="subscribeButton" type="button" class="btn btn-default" onclick="subscribe();" disabled>Subscribe</button>
                    <button id="unsubscribeButton" type="button" class="btn btn-default" onclick="unsubscribe();" disabled>Unsubscribe</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
        <!-- End of Subscription panel -->
        <!-- Publish panel -->
        <div class="col-lg-6 mx-auto">
          <div class="panel panel-default">
            <div class="panel-heading">
              Publish Message
            </div>
            <div class="panel-body" id="publishCollapse">
              <form >
                <div class="row">
                  <div class="col-lg-5">
                    <div class="form-group">
                      <label for="publishTopicInput">Topic</label>
                        <input type="text" class="form-control" id="publishTopicInput" value="world" disabled>
                    </div>
                  </div>
                  <div class="col-lg-3">
                    <div class="form-group">
                      <label for="publishQosInput">QoS</label>
                        <select class="form-control" id="publishQosInput" disabled>
                          <option>0</option>
                          <option>1</option>
                          <option>2</option>
                        </select>
                    </div>
                  </div>
                  <div class="col-lg-1">
                    <div class="form-group">
                      <label for="publishRetainInput">Retain</label>
                      <input type="checkbox" class="special-checkbox" id="publishRetainInput" value="" disabled>
                    </div>
                  </div>
                  <div class="col-lg-1">
                    <div class="form-group">
                      <label for="publishButton"></label>
                      <button id="publishButton" type="button" class="btn btn-default" onclick="publish();" disabled>Publish</a>
                    </div>
                  </div>


                </div>

                <div class="row">
                  <div class="col-lg-12">
                  <div class="form-group">
                    <label for="publishMessageInput">Message</label>
                    <textarea class="form-control" id="publishMessageInput" rows="3"></textarea>
                  </div>
                </div>
                </div>
              </form>
            </div>
          </div>
        </div>
        <!-- End of Publish panel -->
      </div>

      <!-- Display Panels -->
      <div class="row">
        <!-- Last Message / History / Console -->
        <div class="col-lg-12 mx-auto">
          <div class="panel panel-default">
            <div class="panel-heading">
              <a class="chevron-toggle" data-toggle="collapse" data-target="#subscriptionsCollapse" href="#collapseOne">
                            Last Messages
                        </a>
            </div>
            <div class="panel-body collapse in fixed-height-panel" id="subscriptionsCollapse">
              <table class="table table-hover table-condensed tableSection" id="lastMessageTable">
                <thead>
                  <tr>
                    <th>Topic</th>
                    <th>Payload</th>
                    <th>Time</th>
                    <th>QoS</th>
                  </tr>
                </thead>
                <tbody>

                </tbody>

              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="row">

        <div class="col-md-12">
          <div class="panel panel-default">
            <div class="panel-heading">
              <a class="chevron-toggle" data-toggle="collapse" data-target="#historyCollapse" href="#collapseOne">
                            History
                            </a>
            </div>
            <div class="panel-body collapse in fixed-height-panel" id="historyCollapse">
              <span class="right"><a href="#" onclick="clearHistory()">Clear History</a></span>
              <table class="table table-hover table-condensed  tableSection" id="incomingMessageTable">

                <thead>
                  <tr>
                    <th>Topic</th>
                    <th>Payload</th>
                    <th>Time</th>
                    <th>Qos</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="row"> 
        <div class="col-md-12">
          <div class="panel panel-default">
            <div class="panel-heading">
              <a class="chevron-toggle" data-toggle="collapse" data-target="#consoleCollapse" href="#collapseOne">
                            Console
                            </a>
            </div>
            <div class="panel-body collapse in fixed-height-panel-pre" id="consoleCollapse">
              <pre id="consolePre" class="pre-scrollable"></pre>
            </div>
          </div>
        </div>
      </div>
  </div>
     
            </div>
    </section>


    <!-- Footer -->
    <footer class="bg-black small text-center text-white-50">
      <div class="container">
        Copyright &copy; Skadoosh 
        <script type="text/JavaScript">
            document.write(new Date().getFullYear());
        </script>
      </div>
      <div class="container">
        Based on the <a href="https://github.com/BlackrockDigital/startbootstrap-grayscale">Grayscale Theme</a> 
      </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/grayscale.min.js"></script>

    <!-- Core MQTT JavaScript -->
    <script src="js/paho-mqtt-min.js"></script>    
    <!-- Online version of Core MQTT JavaScript -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script> -->

    <!-- MQTT Utility Javascript -->
  <script src="js/mqtt-utility.js"></script>

  </body>

</html>
